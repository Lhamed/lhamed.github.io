---
layout: post
title: Google Login in Unity 2
description: "Fri,2019.2.10"
modified: 2019-2-16
tags: [Journal]
image:
  path: /images/Lawn.png
  feature: abstract-3.jpg
  credit: lhaemd
  creditlink: lhamed.github.io
---

# 데이터 통합 대신 ... 

회사 프로젝트의 기존 유저 데이터는 한 클래스에 모아지는게 아니라 

예를 들어 스킬이면 스킬 매너지에서 데이터도 관리하는 형태로 관리되고 있었다. 

극한의 객체지향이라고 해야할지... 절차지향이라고 해야할지... 스파게티라고 해야할지 모르겠지만

관리에 큰 부담을 주는 것은 분명 했기에 ,

원래는 데이터를 한 곳으로 통합하고 관리하는 리팩토링을 할 예정이었는데 .. 

데이터만 400 줄이 넘어가니 

-_-.. 끝이 없다 . 

개발 시간 = 개발 비용 이니 

무리하게 리팩토링을 지금 진행하는 것 보다는 

우선은 클라우드 저장에서 사용 했던 클래스를 재활용 하는 방법을 택하기로 했다. 

# 서버와의 통신 구현 1 : 유저 데이터 업로드 

유저 데이터 업로드 

우선은 HTTPS 통신인데 , 

Header에는 유저가 클라이언트에서 구글 로그인을 통해 받은 토큰을 담고 , 

Post 방식으로, PostData 의 Field로 데이터들을 추가해 담아 

서버로 보내는 방식으로 하기로 서버개발자와 정했다. 

그리고 시간이 시간이니 만큼, 우선은 기존 클라우드를 사용하며 서버 저장은 미러링 정도만 

진행하고 , PVP 를 구현하고 PVP 안정성을 확립하고 나서 차후에 

데이터 서버 업로드와 기타 다른 부분들을 구현하기로 했다. 

